<!DOCTYPE html>
<html lang='ko'>
<head><meta charset="UTF-8">

<title>
    LEMP stack 에 WordPress 설치방법 - jkpark&#39;s blog
</title>

<meta name="author" content="JK Park">
<meta itemprop="description" name="description" content="" />
<meta name="keywords" content="">

<meta property="og:site_name" content="jkpark&#39;s blog">
<meta property="og:title" content="LEMP stack 에 WordPress 설치방법">
<meta property="og:url" content="https://jkpark.github.io/blog/install-wordpress-on-lemp-stack/">
<meta property="og:type" content="article">


<meta name="generator" content="Hugo 0.68.3" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-V1F50DQW5H"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-V1F50DQW5H');
</script>


<link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
<link href="//fonts.googleapis.com/css?family=Ubuntu+Mono|Roboto:400,700,300italic" rel="stylesheet" type="text/css">

<link rel="stylesheet" href='/css/site.css'>
<link rel="stylesheet" href='/css/page.css'>
<link rel="stylesheet" href='/css/dyn.css'>
<link rel="stylesheet" href='/css/markdown.css'>
<link rel="stylesheet" href='/css/shortcodes.css'>

</head>

<body class="thm-dark preload">
    <div class="overay"></div><header id="masthead" class="thm-dark">
    <div class="wrapper">
        <nav class="mh-menu">
            <ul>
                <li>
                    <div class="mh-logo">
                        <img class="avatar" src="https://avatars.githubusercontent.com/jkpark?size=36" alt="avatar" />
                        <a href="https://jkpark.github.io/" class="text mh-item no-color-link">JK Park</a>
                    </div>
                </li>
                
                
                <li>
                    <a class='mh-item no-color-link ' href="/">About</a>
                </li>
                
                <li>
                    <a class='mh-item no-color-link ' href="/blog/">Blog</a>
                </li>
                
                <li>
                    <a class='mh-item no-color-link ' href="/homeserver/">Home Server</a>
                </li>
                
            </ul>
        </nav>
        
    </div>
</header><main class="thm-light">
<section id="main-header" class="thm-dark">
  
<div class="wrapper">
  
  <div class="date mono"><small>Nov 10, 2016</small></div>
  
  
  <div class ="tags flex">
    <a class="tag-item z2 mono" href="/tags/ubuntu/">#Ubuntu</a><a class="tag-item z2 mono" href="/tags/ubuntu16.04/">#Ubuntu16.04</a><a class="tag-item z2 mono" href="/tags/lemp-stack/">#LEMP stack</a><a class="tag-item z2 mono" href="/tags/mariadb/">#MariaDB</a><a class="tag-item z2 mono" href="/tags/nginx/">#NGINX</a><a class="tag-item z2 mono" href="/tags/wordpress/">#WordPress</a>
  </div>
  
  <div class="title post-title">LEMP stack 에 WordPress 설치방법</div>
</div>

</section>
<section id="main-content">
  

<sidebar id="section-toc" class="sticky-top pull-right-side">
<section id="toc">
<header id="toc-header">
    <svg height="15px" width="15px" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor">
        <g>
            <line x1="21" y1="10" x2="7" y2="10"></line>
            <line x1="21" y1="6" x2="3" y2="6"></line>
            <line x1="21" y1="14" x2="3" y2="14"></line>
            <line x1="21" y1="18" x2="7" y2="18"></line>
        </g>
    </svg>
    <span class="label">Contents</span>
</header>

<div class="toc-list">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#설치-방법">설치 방법</a>
      <ul>
        <li><a href="#wordpress를-위한-database-생성-및-유저-생성">WordPress를 위한 Database 생성 및 유저 생성</a></li>
        <li><a href="#nginx-설정">Nginx 설정</a></li>
        <li><a href="#wordpress-다운로드">WordPress 다운로드</a></li>
        <li><a href="#소유권과-권한-설정">소유권과 권한 설정</a></li>
        <li><a href="#wordpress-환경설정">WordPress 환경설정</a></li>
        <li><a href="#web-interface를-이용하여-설치를-완료한다">Web Interface를 이용하여 설치를 완료한다.</a></li>
      </ul>
    </li>
    <li><a href="#업그레이드-방법">업그레이드 방법</a></li>
  </ul>
</nav>
</div>
</section></sidebar>

<div class="wrapper">
  <div style="margin-top: 5vh;"></div>
  <article id="post-article" class="content">
    <p>Drupal 8 설치 후 테마, 모듈 수가 너무 적어서 Drupal 7을 설치하려고 했지만 WordPress를 설치하여 차이를 느껴보고 싶었다.</p>
<p><a href="http://websitesetup.org/cms-comparison-wordpress-vs-joomla-drupal/">WordPress vs Joomla vs Drupal</a></p>
<p>설치 방법은
<a href="https://www.digitalocean.com/community/tutorials/how-to-install-wordpress-with-lemp-on-ubuntu-16-04">https://www.digitalocean.com/community/tutorials/how-to-install-wordpress-with-lemp-on-ubuntu-16-04</a> 와
<a href="https://www.digitalocean.com/community/tutorials/how-to-install-wordpress-with-nginx-on-ubuntu-14-04">https://www.digitalocean.com/community/tutorials/how-to-install-wordpress-with-nginx-on-ubuntu-14-04</a> 를 참고하였다.</p>
<h1 id="설치-방법">설치 방법</h1>
<p>WordPress를 설치하기 전에 <code>LEMP stack</code> 이 설치되어있어야 하고, <code>SSL</code>이 활성화되어있어야 한다. 우분투 버전은 16.04 에서 진행하였다.</p>
<p><code>LEMP stack</code> 설치 방법은 <a href="/blog/2016/11/install-lemp-stack-on-ubuntu1604">여기</a>를 참고.</p>
<h2 id="wordpress를-위한-database-생성-및-유저-생성">WordPress를 위한 Database 생성 및 유저 생성</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jkpark@cactus:/var/www/html$ mysql -u root -p
Enter password:
Welcome to the MariaDB monitor.  Commands end with ; or <span style="color:#d14">\g</span>.
Your MariaDB connection id is <span style="color:#099">1405</span>
Server version: 10.0.27-MariaDB-0ubuntu0.16.04.1 Ubuntu 16.04

Copyright <span style="color:#000;font-weight:bold">(</span>c<span style="color:#000;font-weight:bold">)</span> 2000, 2016, Oracle, MariaDB Corporation Ab and others.

Type <span style="color:#d14">&#39;help;&#39;</span> or <span style="color:#d14">&#39;\h&#39;</span> <span style="color:#000;font-weight:bold">for</span> help. Type <span style="color:#d14">&#39;\c&#39;</span> to clear the current input statement.

MariaDB <span style="color:#000;font-weight:bold">[(</span>none<span style="color:#000;font-weight:bold">)]</span>&gt; create database wordpress;
Query OK, <span style="color:#099">1</span> row affected <span style="color:#000;font-weight:bold">(</span>0.00 sec<span style="color:#000;font-weight:bold">)</span>

MariaDB <span style="color:#000;font-weight:bold">[(</span>none<span style="color:#000;font-weight:bold">)]</span>&gt; grant all privileges on wordpress.* to wordpressuser@localhost identified by <span style="color:#d14">&#39;your_passsword&#39;</span>;
Query OK, <span style="color:#099">0</span> rows affected <span style="color:#000;font-weight:bold">(</span>0.00 sec<span style="color:#000;font-weight:bold">)</span>

MariaDB <span style="color:#000;font-weight:bold">[(</span>none<span style="color:#000;font-weight:bold">)]</span>&gt; flush privileges;
Query OK, <span style="color:#099">0</span> rows affected <span style="color:#000;font-weight:bold">(</span>0.00 sec<span style="color:#000;font-weight:bold">)</span>

MariaDB <span style="color:#000;font-weight:bold">[(</span>none<span style="color:#000;font-weight:bold">)]</span>&gt; <span style="color:#0086b3">exit</span>
Bye
</code></pre></div><h2 id="nginx-설정">Nginx 설정</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jkpark@cactus:/etc/nginx/sites-available$ sudo vi default
</code></pre></div><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">  <span style="color:#099">4</span>     root /var/www/html/wordpress;
  <span style="color:#099">5</span>     index index.html index.htm index.php;
  <span style="color:#099">6</span>     server_name 192.168.0.102;
  <span style="color:#099">7</span>     location / <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#099">8</span>         index index.php;
  <span style="color:#099">9</span>         try_files <span style="color:#008080">$uri</span> <span style="color:#008080">$uri</span>/ /index.php<span style="color:#008080">$is_args$args</span>;
 <span style="color:#099">10</span> <span style="color:#998;font-style:italic">#try_files $uri $uri/ =404;</span>
 <span style="color:#099">11</span>     <span style="color:#000;font-weight:bold">}</span>
</code></pre></div><p>테스트 &amp; 재시작</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jkpark@cactus:/var/www/html$ sudo nginx -t
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf <span style="color:#0086b3">test</span> is successful
jkpark@cactus:/var/www/html$ sudo systemctl restart nginx
</code></pre></div><h2 id="wordpress-다운로드">WordPress 다운로드</h2>
<p><code>wp-config-sample.php</code> 샘플설정 파일의 대부분의 설정은 알맞게 되어있어므로 복사하여 기본 설정 파일로 만들어주었다.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jkpark@cactus:/tmp$ curl -O https://wordpress.org/latest.tar.gz
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
<span style="color:#099">100</span> 7774k  <span style="color:#099">100</span> 7774k    <span style="color:#099">0</span>     <span style="color:#099">0</span>   465k      <span style="color:#099">0</span>  0:00:16  0:00:16 --:--:--  218k
jkpark@cactus:/tmp$ tar xzvf latest.tar.gz
jkpark@cactus:/tmp$ cp wordpress/wp-config-sample.php wordpress/wp-config.php
</code></pre></div><p><code>upgrade</code> 디렉토리를 생성하고 <code>WordPress</code>를 업그레이드하면 <code>upgrade</code> 디렉토리안에 업그레이드에 필요한 파일들이 설치된다.
참고 : <a href="https://www.wpkb.com/wp-files-explained/">https://www.wpkb.com/wp-files-explained/</a></p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jkpark@cactus:/tmp$ mkdir /tmp/wordpress/wp-content/upgrade
</code></pre></div><p><code>/tmp/wordpress</code> 를 <code>/var/www/html/wordpress</code> 로 복사한다.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jkpark@cactus:/tmp/wordpress$ sudo cp -a /tmp/wordpress /var/www/html/wordpress
</code></pre></div><h2 id="소유권과-권한-설정">소유권과 권한 설정</h2>
<p>여기서 하는 작업은 타당한 접근 권한과 소유권을 설정하는 것이다. 일반유저가 파일을 쓸 수 있어야하고, web server가 파일과 디렉토리에 접근, 조작할 수 있어야한다.</p>
<p>파일의 소유권은 <code>sudo</code> 유저로 한다.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jkpark@cactus:/var/www/html$ sudo chown -R jkpark:www-data /var/www/html/wordpress
<span style="color:#000;font-weight:bold">[</span>sudo<span style="color:#000;font-weight:bold">]</span> password <span style="color:#000;font-weight:bold">for</span> jkpark:
jkpark@cactus:/var/www/html$ ls -al
합계 <span style="color:#099">24</span>
drwxr-xr-x <span style="color:#099">4</span> www-data www-data <span style="color:#099">4096</span> 11월  <span style="color:#099">9</span> 21:53 .
drwxr-xr-x <span style="color:#099">3</span> root     root     <span style="color:#099">4096</span> 11월  <span style="color:#099">9</span> 14:24 ..
drwxr-xr-x <span style="color:#099">8</span> www-data www-data <span style="color:#099">4096</span> 11월  <span style="color:#099">2</span> 18:08 drupal
-rwxr-xr-x <span style="color:#099">1</span> www-data www-data  <span style="color:#099">612</span> 11월  <span style="color:#099">8</span> 22:06 index.nginx-debian.html
-rwxr-xr-x <span style="color:#099">1</span> www-data www-data   <span style="color:#099">20</span> 11월  <span style="color:#099">8</span> 23:58 info.php
drwxr-xr-x <span style="color:#099">5</span> jkpark   www-data <span style="color:#099">4096</span> 11월  <span style="color:#099">9</span> 21:44 wordpress
</code></pre></div><p>각각의 디렉토리에 <code>setgid</code> 설정으로 새로 생성되는 파일들은 <code>www-data</code> 그룹을 상속받게 한다. 이 설정으로 web server가 생성된 파일들의 group ownership을 가지고 있게 한다.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jkpark@cactus:/var/www/html/wordpress$ sudo find . -type d -exec chmod g+s <span style="color:#000;font-weight:bold">{}</span> <span style="color:#d14">\;</span>
jkpark@cactus:/var/www/html/wordpress$ ls -al
합계 <span style="color:#099">196</span>
drwxr-sr-x  <span style="color:#099">5</span> jkpark   www-data  <span style="color:#099">4096</span> 11월  <span style="color:#099">9</span> 21:44 .
drwxr-xr-x  <span style="color:#099">4</span> www-data www-data  <span style="color:#099">4096</span> 11월  <span style="color:#099">9</span> 21:53 ..
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data   <span style="color:#099">418</span>  9월 <span style="color:#099">25</span>  <span style="color:#099">2013</span> index.php
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data <span style="color:#099">19935</span>  3월  <span style="color:#099">6</span>  <span style="color:#099">2016</span> license.txt
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data  <span style="color:#099">7344</span>  8월 <span style="color:#099">17</span> 05:39 readme.html
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data  <span style="color:#099">5456</span>  5월 <span style="color:#099">25</span> 06:02 wp-activate.php
drwxr-sr-x  <span style="color:#099">9</span> jkpark   www-data  <span style="color:#099">4096</span>  9월  <span style="color:#099">7</span> 23:58 wp-admin
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data   <span style="color:#099">364</span> 12월 <span style="color:#099">19</span>  <span style="color:#099">2015</span> wp-blog-header.php
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data  <span style="color:#099">1477</span>  5월 <span style="color:#099">24</span> 01:44 wp-comments-post.php
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data  <span style="color:#099">2853</span> 12월 <span style="color:#099">16</span>  <span style="color:#099">2015</span> wp-config-sample.php
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data  <span style="color:#099">2853</span> 11월  <span style="color:#099">9</span> 21:44 wp-config.php
drwxr-sr-x  <span style="color:#099">5</span> jkpark   www-data  <span style="color:#099">4096</span> 11월  <span style="color:#099">9</span> 21:47 wp-content
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data  <span style="color:#099">3286</span>  5월 <span style="color:#099">25</span>  <span style="color:#099">2015</span> wp-cron.php
drwxr-sr-x <span style="color:#099">17</span> jkpark   www-data <span style="color:#099">12288</span>  9월  <span style="color:#099">7</span> 23:58 wp-includes
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data  <span style="color:#099">2382</span>  5월 <span style="color:#099">24</span> 01:44 wp-links-opml.php
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data  <span style="color:#099">3353</span>  4월 <span style="color:#099">15</span>  <span style="color:#099">2016</span> wp-load.php
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data <span style="color:#099">34057</span>  6월 <span style="color:#099">15</span> 06:51 wp-login.php
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data  <span style="color:#099">7786</span>  7월 <span style="color:#099">13</span> 21:37 wp-mail.php
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data <span style="color:#099">13920</span>  8월 <span style="color:#099">14</span> 01:02 wp-settings.php
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data <span style="color:#099">29890</span>  5월 <span style="color:#099">25</span> 05:44 wp-signup.php
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data  <span style="color:#099">4035</span> 12월  <span style="color:#099">1</span>  <span style="color:#099">2014</span> wp-trackback.php
-rw-r--r--  <span style="color:#099">1</span> jkpark   www-data  <span style="color:#099">3064</span>  7월  <span style="color:#099">6</span> 21:40 xmlrpc.php
</code></pre></div><p>아래 명령어로 group write permission을 부여하여 web interface 가 theme 와 plugin 변경 가능하도록 한다.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jkpark@cactus:/var/www/html/wordpress$ sudo chmod g+w wp-content
jkpark@cactus:/var/www/html/wordpress$ sudo chmod -R g+w wp-content/themes
jkpark@cactus:/var/www/html/wordpress$ sudo chmod -R g+w wp-content/plugins
jkpark@cactus:/var/www/html/wordpress$
jkpark@cactus:/var/www/html/wordpress$ ls -al wp-content/
합계 <span style="color:#099">24</span>
drwxrwsr-x <span style="color:#099">5</span> jkpark www-data <span style="color:#099">4096</span> 11월  <span style="color:#099">9</span> 21:47 .
drwxr-sr-x <span style="color:#099">5</span> jkpark www-data <span style="color:#099">4096</span> 11월  <span style="color:#099">9</span> 21:44 ..
-rw-r--r-- <span style="color:#099">1</span> jkpark www-data   <span style="color:#099">28</span>  1월  <span style="color:#099">9</span>  <span style="color:#099">2012</span> index.php
drwxrwsr-x <span style="color:#099">3</span> jkpark www-data <span style="color:#099">4096</span>  9월  <span style="color:#099">7</span> 23:59 plugins
drwxrwsr-x <span style="color:#099">5</span> jkpark www-data <span style="color:#099">4096</span>  9월  <span style="color:#099">7</span> 23:59 themes
drwxrwsr-x <span style="color:#099">2</span> jkpark www-data <span style="color:#099">4096</span> 11월  <span style="color:#099">9</span> 21:47 upgrade
</code></pre></div><h2 id="wordpress-환경설정">WordPress 환경설정</h2>
<p>WordPress main configuration 파일을 열었을 때 제일 먼저 해야할 일은 보안키를 설정하는 것이다. <code>WordPress</code>가 제공하는 secure generator를 이용하여 키 값을 만들 수 있다.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jkpark@cactus:/var/www/html/wordpress$ curl -s https://api.wordpress.org/secret-key/1.1/salt/
define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;AUTH_KEY&#39;</span>,         <span style="color:#d14">&#39;(@p -;LQVf1$wxO1 pt&amp;이 글을 복사하지 마세요MhU6+9z2&#39;</span><span style="color:#000;font-weight:bold">)</span>;
define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;SECURE_AUTH_KEY&#39;</span>,  <span style="color:#d14">&#39;)+SoyfkO!HX=vRC(fhb6이 글을 복사하지 마세요Bo&amp;f]KmO&#39;</span><span style="color:#000;font-weight:bold">)</span>;
define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;LOGGED_IN_KEY&#39;</span>,    <span style="color:#d14">&#39;IFBwv/%~3Jwk?(rP,]1C이 글을 복사하지 마세요E ,b]u0V&#39;</span><span style="color:#000;font-weight:bold">)</span>;
define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;NONCE_KEY&#39;</span>,        <span style="color:#d14">&#39;|fHfPA!U,Yh*F:HfZ9[r이 글을 복사하지 마세요eQ?=3&gt;#B&#39;</span><span style="color:#000;font-weight:bold">)</span>;
define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;AUTH_SALT&#39;</span>,        <span style="color:#d14">&#39;|:+NB@&lt;h98|--t)a-dW/이 글을 복사하지 마세요cUx;)x/1&#39;</span><span style="color:#000;font-weight:bold">)</span>;
define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;SECURE_AUTH_SALT&#39;</span>, <span style="color:#d14">&#39;ZVj.^eMKAtY:5+g:xhu1이 글을 복사하지 마세요T px,TY(&#39;</span><span style="color:#000;font-weight:bold">)</span>;
define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;LOGGED_IN_SALT&#39;</span>,   <span style="color:#d14">&#39;Uv5786a=D%R(~H.zWDJB이 글을 복사하지 마세요Q$XyRWsR&#39;</span><span style="color:#000;font-weight:bold">)</span>;
define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;NONCE_SALT&#39;</span>,       <span style="color:#d14">&#39;$:!yP|#[i8w|FQSBP&amp;&amp;D이 글을 복사하지 마세요4A2=Zp&gt;E&#39;</span><span style="color:#000;font-weight:bold">)</span>;
</code></pre></div><p>생성된 키들을 <code>WordPress</code> 환경설정 파일에 복사한다.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jkpark@cactus:/var/www/html/wordpress$ vi wp-config.php
</code></pre></div><p>아래 라인에 위에서 생성한 key들을 붙여넣는다.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> <span style="color:#099">49</span> define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;AUTH_KEY&#39;</span>,         <span style="color:#d14">&#39;put your unique phrase here&#39;</span><span style="color:#000;font-weight:bold">)</span>;
 <span style="color:#099">50</span> define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;SECURE_AUTH_KEY&#39;</span>,  <span style="color:#d14">&#39;put your unique phrase here&#39;</span><span style="color:#000;font-weight:bold">)</span>;
 <span style="color:#099">51</span> define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;LOGGED_IN_KEY&#39;</span>,    <span style="color:#d14">&#39;put your unique phrase here&#39;</span><span style="color:#000;font-weight:bold">)</span>;
 <span style="color:#099">52</span> define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;NONCE_KEY&#39;</span>,        <span style="color:#d14">&#39;put your unique phrase here&#39;</span><span style="color:#000;font-weight:bold">)</span>;
 <span style="color:#099">53</span> define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;AUTH_SALT&#39;</span>,        <span style="color:#d14">&#39;put your unique phrase here&#39;</span><span style="color:#000;font-weight:bold">)</span>;
 <span style="color:#099">54</span> define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;SECURE_AUTH_SALT&#39;</span>, <span style="color:#d14">&#39;put your unique phrase here&#39;</span><span style="color:#000;font-weight:bold">)</span>;
 <span style="color:#099">55</span> define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;LOGGED_IN_SALT&#39;</span>,   <span style="color:#d14">&#39;put your unique phrase here&#39;</span><span style="color:#000;font-weight:bold">)</span>;
 <span style="color:#099">56</span> define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;NONCE_SALT&#39;</span>,       <span style="color:#d14">&#39;put your unique phrase here&#39;</span><span style="color:#000;font-weight:bold">)</span>;
</code></pre></div><p>Database 설정</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> <span style="color:#099">23</span> define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;DB_NAME&#39;</span>, <span style="color:#d14">&#39;wordpress&#39;</span><span style="color:#000;font-weight:bold">)</span>;
 <span style="color:#099">24</span>
 <span style="color:#099">25</span> /** MySQL database username */
 <span style="color:#099">26</span> define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;DB_USER&#39;</span>, <span style="color:#d14">&#39;wordpressuser&#39;</span><span style="color:#000;font-weight:bold">)</span>;
 <span style="color:#099">27</span>
 <span style="color:#099">28</span> /** MySQL database password */
 <span style="color:#099">29</span> define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;DB_PASSWORD&#39;</span>, <span style="color:#d14">&#39;비밀번호&#39;</span><span style="color:#000;font-weight:bold">)</span>;
 <span style="color:#099">30</span>
 <span style="color:#099">31</span> /** MySQL hostname */
 <span style="color:#099">32</span> define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;DB_HOST&#39;</span>, <span style="color:#d14">&#39;localhost&#39;</span><span style="color:#000;font-weight:bold">)</span>;
 <span style="color:#099">33</span>
 <span style="color:#099">34</span> /** Database Charset to use in creating database tables. */
 <span style="color:#099">35</span> define<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#39;DB_CHARSET&#39;</span>, <span style="color:#d14">&#39;utf8&#39;</span><span style="color:#000;font-weight:bold">)</span>;
 <span style="color:#099">36</span>
 <span style="color:#099">37</span> /** The Database Collate type. Don<span style="color:#d14">&#39;t change this if in doubt. */
</span><span style="color:#d14"> 38 define(&#39;</span>DB_COLLATE<span style="color:#d14">&#39;, &#39;</span><span style="color:#a61717;background-color:#e3d2d2">&#39;</span><span style="color:#000;font-weight:bold">)</span>;
</code></pre></div><p>save and close the file</p>
<h2 id="web-interface를-이용하여-설치를-완료한다">Web Interface를 이용하여 설치를 완료한다.</h2>
<p><img src="https://3.bp.blogspot.com/-FVfQJm5491o/WCMqMy4p24I/AAAAAAAAAiA/vt4KO1sfzHkX9BmeE4lO3njXdGO7CF4uACLcB/s320/%25EC%25BA%25A1%25EC%25B2%25981.PNG" alt="" /></p>
<p><img src="https://3.bp.blogspot.com/-kPW_nb5nwHw/WCMqcBu0jBI/AAAAAAAAAiE/qn8jgNMlxr4HpuHnaa9-uokBYiMJPOGmwCLcB/s320/%25EC%25BA%25A1%25EC%25B2%25982.PNG" alt="" /></p>
<h1 id="업그레이드-방법">업그레이드 방법</h1>
<p><code>WordPress</code>의 업그레이드가 가능할 경우 현재 권한으로는 업그레이드를 진행할 수 없다.</p>
<p>위에서 설정한 소유권과 권한으로 보안성이 높아져 소프트웨어가 스스로 update를 완료할 수는 없다.</p>
<p>따라서 업그레이드 시, 임시적으로 web server에게 소유권을 주어 업그레이드를 진행한다.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo chown -R www-data /var/www/html/wordpress
</code></pre></div><p>업그레이드 완료 시 다시 sudo user에게 소유권을 준다.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo chown -R jkpark /var/www/html/wordpress
</code></pre></div>
  </article>
  <div style="margin-top: 5vh;"></div>
  <section>


<div style="min-height: 268px;">
    
<script src="https://utteranc.es/client.js"
    repo="jkpark/jkpark.github.io-utterances"
    issue-term="pathname"
    theme="github-light"
    crossorigin="anonymous"
    async>
</script>

</div>
</section>
</div>

</section>

    </main>

    <script>
        document.addEventListener("DOMContentLoaded", function(e) {
            var limit = document.body.offsetHeight - window.innerHeight;
            document.querySelector("body").classList.remove("preload");
        });
    </script>
    <footer>
    <p>
        Powered by the <a href="https://github.com/jkpark/hugo-theme-jkpark" target="_blank">jkpark</a> theme for <a href="https://gohugo.io" class="hover:text-eureka">Hugo</a>.
    </p>
</footer></body>

</html>
